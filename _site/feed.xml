<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.6.2">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2018-04-17T09:24:36+08:00</updated><id>http://localhost:4000/</id><title type="html">Lionel PlayGround</title><subtitle>Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.</subtitle><entry><title type="html">劳动人民最光荣之武功山徒步</title><link href="http://localhost:4000/playplan/2018/04/16/labour-day-wugong-mountain.html" rel="alternate" type="text/html" title="劳动人民最光荣之武功山徒步" /><published>2018-04-16T09:36:54+08:00</published><updated>2018-04-16T09:36:54+08:00</updated><id>http://localhost:4000/playplan/2018/04/16/labour-day-wugong-mountain</id><content type="html" xml:base="http://localhost:4000/playplan/2018/04/16/labour-day-wugong-mountain.html"></content><author><name></name></author><summary type="html"></summary></entry><entry><title type="html">gremlin学习笔记</title><link href="http://localhost:4000/database/2018/04/13/Gremlin.html" rel="alternate" type="text/html" title="gremlin学习笔记" /><published>2018-04-13T09:36:54+08:00</published><updated>2018-04-13T09:36:54+08:00</updated><id>http://localhost:4000/database/2018/04/13/Gremlin</id><content type="html" xml:base="http://localhost:4000/database/2018/04/13/Gremlin.html">&lt;blockquote&gt;
  &lt;p&gt;待填坑&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h1 id=&quot;what-is-gremlin&quot;&gt;What is Gremlin&lt;/h1&gt;

&lt;h1 id=&quot;语法特征&quot;&gt;语法特征&lt;/h1&gt;

&lt;h1 id=&quot;与titan如何整合&quot;&gt;与Titan如何整合&lt;/h1&gt;</content><author><name></name></author><summary type="html">待填坑</summary></entry><entry><title type="html">几种主流的一致性协议!</title><link href="http://localhost:4000/zookeeper/2018/04/13/Coherence-protocol.html" rel="alternate" type="text/html" title="几种主流的一致性协议!" /><published>2018-04-13T09:36:54+08:00</published><updated>2018-04-13T09:36:54+08:00</updated><id>http://localhost:4000/zookeeper/2018/04/13/Coherence-protocol</id><content type="html" xml:base="http://localhost:4000/zookeeper/2018/04/13/Coherence-protocol.html">&lt;blockquote&gt;
  &lt;p&gt;待填坑&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h1 id=&quot;paxos&quot;&gt;Paxos&lt;/h1&gt;

&lt;h1 id=&quot;zoolab&quot;&gt;Zoolab&lt;/h1&gt;

&lt;h1 id=&quot;gossip&quot;&gt;Gossip&lt;/h1&gt;

&lt;h1 id=&quot;totem&quot;&gt;Totem&lt;/h1&gt;</content><author><name></name></author><summary type="html">待填坑</summary></entry><entry><title type="html">读《淘宝技术这十年》</title><link href="http://localhost:4000/notebook/2018/04/10/read-tabao-technology-10.html" rel="alternate" type="text/html" title="读《淘宝技术这十年》" /><published>2018-04-10T09:36:54+08:00</published><updated>2018-04-10T09:36:54+08:00</updated><id>http://localhost:4000/notebook/2018/04/10/read-tabao-technology-10</id><content type="html" xml:base="http://localhost:4000/notebook/2018/04/10/read-tabao-technology-10.html">&lt;blockquote&gt;
  &lt;p&gt;上午手上闲适，翻开了《淘宝技术这十年》读了读，以这样的视角去了解淘宝的发展，感觉非常微妙&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;读这本书的时候，我自己的视角更多的是一位技术人员，去读另一位技术人员对淘宝技术的记录，再次记录一下读后感：&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;最大的感受是——&lt;strong&gt;技术服务于业务&lt;/strong&gt;，换言之，学以致用
其实从毕业以来，我一直很在意寻找那种在一定时间内“一劳永逸”的架构，现在想想既然架构是随着使用不停演化的，那这种也不必过于在意了&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;作为一名非专业技术人员，如何对待技术——&lt;strong&gt;尊重技术&lt;/strong&gt;，但也不要将技术供之高阁&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;技术或者说开发最大的成功还是能够&lt;strong&gt;快速响应&lt;/strong&gt;，快速完成&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;技术没有地位之高下，技术人员也没有，&lt;strong&gt;能够解决问题，技术人员就应该得到尊重&lt;/strong&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;读一本老技术前辈写的书，或多或少对这份工作有了更清晰的认识&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;blockquote&gt;
  &lt;p&gt;积土成山，积水成渊，想在技术这条路继续走下去，没有捷径&lt;/p&gt;
&lt;/blockquote&gt;</content><author><name></name></author><summary type="html">上午手上闲适，翻开了《淘宝技术这十年》读了读，以这样的视角去了解淘宝的发展，感觉非常微妙</summary></entry><entry><title type="html">清明时节雨纷纷，杏花村啊杏花村</title><link href="http://localhost:4000/playplan/2018/03/26/tomb-sweeping-day.html" rel="alternate" type="text/html" title="清明时节雨纷纷，杏花村啊杏花村" /><published>2018-03-26T09:36:54+08:00</published><updated>2018-03-26T09:36:54+08:00</updated><id>http://localhost:4000/playplan/2018/03/26/tomb-sweeping-day</id><content type="html" xml:base="http://localhost:4000/playplan/2018/03/26/tomb-sweeping-day.html">&lt;h1 id=&quot;清明时节雨纷纷杏花村啊杏花村&quot;&gt;清明时节雨纷纷，杏花村啊杏花村&lt;/h1&gt;

&lt;h2 id=&quot;交通&quot;&gt;交通&lt;/h2&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;城市间&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;交通方式&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;耗时&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;价格&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;备注&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;杭州～成都&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;飞机&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;2~3h&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;￥700~900&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;杭州～昆明&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;飞机&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;2~3h&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;￥700~900&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;杭州～丽江&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;飞机&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;2~3h&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;￥700~900&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;成都～昆明&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;火车K&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;18~22h&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;硬卧￥240&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;成都～昆明&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;火车G&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;6.5h&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;二等￥490&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;杭州～昆明&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;火车G&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;11h&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;二等￥800&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;沿途看看风景不错&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;昆明～丽江&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;火车K&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;7~9h&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;硬卧￥141&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;沿途风景也不错，但尽可能选择晚上的班次&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;昆明～大理&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;火车K&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;5.5~7.5h&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;硬卧￥98，硬座￥64&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;沿途风景也不错，但尽可能选择晚上的班次&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;云南的路况较为复杂，没有老司机就不考虑租车自驾了，应该是杭州——丽江——大理——昆明——成都——杭州的路线&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;h2 id=&quot;路线&quot;&gt;路线&lt;/h2&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;日期&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;周几&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;行程&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;备注&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;4.1&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;周日&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;上午飞机，下午到丽江，晚上在丽江古城玩一玩&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;4.2&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;周一&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;上午大巴到香格里拉，晚上在香格里拉县城玩&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;4.3&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;周二&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;普达措国家公园，下午3点会返回香格里拉县城，运气好可以晚上返回丽江&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;4.4&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;周三&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;运气不好下午到达丽江&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;4.5&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;周四&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;玉龙雪山，晚上去大理&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;4.6&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;周五&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;白天在洱海附近逛逛，晚上去昆明，火车过夜&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;4.7&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;周六&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;昆明飞回杭州&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;blockquote&gt;
  &lt;p&gt;需要订4.1，（+4.3），4.4在丽江的住宿&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;4.2（+4.3）在香格里拉的住宿&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;4.5在大理的住宿&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;住宿&quot;&gt;住宿&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;to be continued&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;游感&quot;&gt;游感&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;最后的行程和计划差别不大，区别主要是从香格里拉直接到了大理双廊&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;原本四人团队，最后只剩下一位男同事和我，我们俩对这次的旅行都是很满意的（大概，除了两次户外比较惊险，没有艳遇之外，这一周的天气交通都很顺利，运气很好&lt;/p&gt;

&lt;p&gt;之前也去广西呆过20天左右，不过那是去支教而且有8人，像这次单纯的长距离长时间的游玩，还是第一次，所以仅仅从完成度来讲，我们俩都是很满意的。
而且对于久坐办公室的人，也是一次难得的户外。&lt;/p&gt;

&lt;p&gt;对计划而言，确实是很好的完成了，实际到了云南之后也发现有些点可以改进：&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;时间——一个旅行地点最重要的就是时间，这个要提前做好调查，比如香格里拉最佳时间是5~6月（花期），大理是4月中旬（民族节日）&lt;/li&gt;
  &lt;li&gt;旅行地点——旅行地点不需要贪多，三天或者五天，能够把一个地方玩好就很好&lt;/li&gt;
  &lt;li&gt;交通——相比于住宿和饮食，交通被我们忽略了，计划是飞机+火车，实际全是坐大巴，而且交通占了不少时间，如果能够自驾，是最好的&lt;/li&gt;
  &lt;li&gt;人数——四人其实是比较合适的，不仅刚刚充分利用租一辆车，住宿也可以两个标准间，而且最关键的是，路上聊天会不那么尬，两个人完全相处一个周，不是情侣多少还是会尬&lt;/li&gt;
  &lt;li&gt;背包——背包在绝大多数情况下都是一个很好的道具，最好不要离身，在虎跳峡我直接只拿了相机就下去了，结果上来的时候发现相机挂在脖子上很难爬梯子（很危险），而且随时随地都有想喝一口的欲望&lt;/li&gt;
  &lt;li&gt;对坏情况的预期——出去玩，成本最大的一点就是没能catch住异常，期望之外的异常往往会破坏一天，两天甚至一周的安排，经历了在香格里拉租自行车车胎漏气的事情后，之后在大理开口先问老板“车在路上坏了怎么办”——出去旅行，下雨怎么办，没赶上车怎么办，手机没电怎么办，这些问题才是这次旅行的基本保证&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;strong&gt;总结看来，改进之处还是在出发前的计划阶段&lt;/strong&gt;&lt;/p&gt;

&lt;h2 id=&quot;景点资料&quot;&gt;景点资料&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.mafengwo.cn/mdd/cityroute/10186_272.html&quot;&gt;丽江&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.mafengwo.cn/mdd/cityroute/10482_322.html&quot;&gt;香格里拉&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.mafengwo.cn/mdd/cityroute/10487_308.html&quot;&gt;大理&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name></name></author><summary type="html">清明时节雨纷纷，杏花村啊杏花村</summary></entry><entry><title type="html">数据产品开发笔记</title><link href="http://localhost:4000/notebook/2018/03/26/head-first-notebook.html" rel="alternate" type="text/html" title="数据产品开发笔记" /><published>2018-03-26T09:36:54+08:00</published><updated>2018-03-26T09:36:54+08:00</updated><id>http://localhost:4000/notebook/2018/03/26/head-first-notebook</id><content type="html" xml:base="http://localhost:4000/notebook/2018/03/26/head-first-notebook.html">&lt;h1 id=&quot;开发笔记&quot;&gt;开发笔记&lt;/h1&gt;

&lt;h2 id=&quot;完全异步&quot;&gt;完全异步&lt;/h2&gt;
&lt;p&gt;Java Web ——&amp;gt; Quartz ——&amp;gt; Engine&lt;/p&gt;

&lt;h2 id=&quot;job分类&quot;&gt;Job分类&lt;/h2&gt;</content><author><name></name></author><summary type="html">开发笔记</summary></entry><entry><title type="html">JADE奇妙旅行</title><link href="http://localhost:4000/jade/2018/03/09/head-first-jade.html" rel="alternate" type="text/html" title="JADE奇妙旅行" /><published>2018-03-09T09:36:54+08:00</published><updated>2018-03-09T09:36:54+08:00</updated><id>http://localhost:4000/jade/2018/03/09/head-first-jade</id><content type="html" xml:base="http://localhost:4000/jade/2018/03/09/head-first-jade.html">&lt;h1 id=&quot;what-is-jade&quot;&gt;WHAT IS JADE&lt;/h1&gt;
&lt;p&gt;JADE的中文含义是玉石，一般是指翡翠，同时有一种名为JADE的面向对象编程语言，而这里我们要了解的是另外一种JADE：&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Jade is a terse language for writing HTML templates.
Jade是一种用来编写HTML模板的简洁的语言&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;这种运行在Node上的模板引擎有三个特性：&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Produces HTML&lt;/li&gt;
  &lt;li&gt;Supports dynamic code&lt;/li&gt;
  &lt;li&gt;Supports reusability (DRY)&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;同时一个容易忽略的细节是：jade是js的，这么说或许不清楚，换句话说jade是可以访问js作用域的&lt;/p&gt;

&lt;h1 id=&quot;jade-html-css&quot;&gt;JADE, HTML, CSS&lt;/h1&gt;
&lt;h2 id=&quot;what-is-html&quot;&gt;WHAT IS HTML&lt;/h2&gt;
&lt;p&gt;html文件随处可见，我们浏览的网页99.99%都是html，但HTML到底是啥&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;超文本标记语言（英语：HyperText Markup Language，简称：HTML）是一种用于创建网页的标准标记语言&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;实际上，浏览器是一个功能非常强大的程序，或者可以说是一个平台platform，html可以认为是在浏览器这个平台上的可执行文件&lt;/p&gt;

&lt;p&gt;html往往是静态的，通过DOM将元素组织成树状结构，浏览器对html中的元素进行解析和可视化&lt;/p&gt;

&lt;h2 id=&quot;what-is-css&quot;&gt;WHAT IS CSS&lt;/h2&gt;
&lt;p&gt;当html定义的元素越来越多，很难针对每一个元素去指定表现规格，比如字体粗度，有无边框等，这时候就需要【样式】来统一地批量解决这个问题&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;CSS，层叠样式表 (Cascading Style Sheets，缩写为CSS），是一种样式表语言，用来描述HTML或XML（包括如SVG、XHTML之类的XML分支语言）文档的呈现&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;而当同一个元素不止被一个样式定义的时候，在树状结构上离该元素最近的那个样式生效&lt;/p&gt;

&lt;h2 id=&quot;jade-2-html&quot;&gt;JADE 2 HTML&lt;/h2&gt;
&lt;p&gt;Jade其实就是提供了另一种语法，来更简洁的表达html的元素，同样可以使用css定义的样式，同时能完成不同jade内容的拼接和简单逻辑变量的访问&lt;/p&gt;

&lt;h2 id=&quot;突然想起jsp&quot;&gt;突然想起JSP&lt;/h2&gt;
&lt;p&gt;其实Web前端一般分为框架+引擎，jade就是一种引擎，负责生成静态的html，而框架，比如angularJs，react等，负责控制逻辑&lt;/p&gt;

&lt;p&gt;而J！S！P！这种笔者之前唯一正规写过的“前端”，其实把框架和引擎的事情都干了，使用java作为控制逻辑的脚本&lt;/p&gt;

&lt;p&gt;不过现在好像凉了，可能不仅仅是因为JavaScript的成熟，更多的应该是生成html时，jsp其实很痛苦……很多时候都是直接声明html元素来生成&lt;/p&gt;

&lt;h1 id=&quot;jade语法&quot;&gt;JADE语法&lt;/h1&gt;</content><author><name></name></author><summary type="html">WHAT IS JADE JADE的中文含义是玉石，一般是指翡翠，同时有一种名为JADE的面向对象编程语言，而这里我们要了解的是另外一种JADE：</summary></entry><entry><title type="html">kubernetes的决策分离</title><link href="http://localhost:4000/kubernetes/2018/03/08/kubernetes-decision-and-making.html" rel="alternate" type="text/html" title="kubernetes的决策分离" /><published>2018-03-08T09:36:54+08:00</published><updated>2018-03-08T09:36:54+08:00</updated><id>http://localhost:4000/kubernetes/2018/03/08/kubernetes-decision-and-making</id><content type="html" xml:base="http://localhost:4000/kubernetes/2018/03/08/kubernetes-decision-and-making.html">&lt;h1 id=&quot;鱼与熊掌&quot;&gt;鱼与熊掌&lt;/h1&gt;
&lt;p&gt;笼统了解了一下Kubernetes的架构设计，发现它的架构非常有意思，在一些方面实现了一定程度上得的“鱼与熊掌得兼”：&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;系统本身高复杂——对外接口简单清晰&lt;/li&gt;
  &lt;li&gt;高访问——没有性能瓶颈&lt;/li&gt;
  &lt;li&gt;高可用的特性——实现上的低成本&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;总之就是很牛逼了&lt;/p&gt;

&lt;h2 id=&quot;kubernetes中枢部分的决策分离&quot;&gt;Kubernetes中枢部分的“决”“策”分离&lt;/h2&gt;

&lt;p&gt;Kubernetes的组件可以大致分为俩部分：&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;负责整个集群的【中枢】，中枢的首长是【api server】&lt;/li&gt;
  &lt;li&gt;负责单个Node的【地方】，地方的行政长官是【kubelet】&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;中枢部分又包括了很多组件，但对外，不论是使用者，还是对地方，都只呈现出一个api server&lt;/p&gt;

&lt;p&gt;所有用户对集群的指令，和所有kubelet的交互，都由api server完成&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Kubernetes通过“决”与“策”的分离，减轻了api server的负担&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;api server负责【决】，所有引起集群状态变更的动作，都经过api server并由其负责落地（存储到etcd中），只有api server由读写etcd的权限&lt;/p&gt;

&lt;p&gt;专门的参谋团负责【策】，其中最主要的俩个就是：&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;controller manager&lt;/li&gt;
  &lt;li&gt;scheduler&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;比如一个新的pod需要运行，api server会让scheduler负责考虑pod该运行在哪个Node上&lt;/p&gt;

&lt;p&gt;scheduler考虑清楚后把方案提交给api server，api server对方案做持久化&lt;/p&gt;

&lt;p&gt;对应Node上的kubelet去运行pod实例&lt;/p&gt;

&lt;h2 id=&quot;kubernetes-client订阅机制&quot;&gt;Kubernetes Client订阅机制&lt;/h2&gt;
&lt;p&gt;Kubernetes中组件的交互很频繁，但因为做了“决”“策”分离，负责具体事务的【中枢】职能官既不与etcd通信，也不与【地方】kubelet通信&lt;/p&gt;

&lt;p&gt;所以Kubernetes的网络通信模型最后变成了所有组件都要而且只要与api server通信，一定程度上降低了复杂度和全局的通信负担，api server也变相承担了全局“锁”的作用，维持通信上的先后顺序&lt;/p&gt;

&lt;p&gt;但是如此一来api server似乎负担会很重，宕机的可能性和成本都变大了&lt;/p&gt;

&lt;p&gt;所以Kubernetes使用了带hook的client&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;提供一个api server的client，这个client带一个hook，使用者在api server上注册订阅，有相关的状态变动时，api server通过hook发布到使用者（订阅者）&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;相当于【中枢】不维护飞鸽，不需要知道飞鸽的目的地，而是【地方】和【中枢】的职能官自己在【中枢】处放一只飞鸽&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;这个设计带来的好处：&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;双向通信变成单向通信，api server不需要感知到各个组件，也不需要实现各个组件的client&lt;/li&gt;
  &lt;li&gt;减少握手成本和用于勘察状态的通信&lt;/li&gt;
  &lt;li&gt;最关键的一点，减轻了api server的通信成本&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;kubernetes高可用&quot;&gt;Kubernetes高可用&lt;/h2&gt;
&lt;p&gt;软件系统的高可用，通常是通过冗余和高频的通信和保持状态一致&lt;/p&gt;

&lt;h3 id=&quot;中枢部分&quot;&gt;中枢部分&lt;/h3&gt;
&lt;p&gt;api server支持分布式&lt;/p&gt;

&lt;p&gt;其它职能组件原生不支持，但是在api server分布式的场景中，可以在每个api server的Node上
运行一套职能组件的副本，职能组件的多副本间是主备关系&lt;/p&gt;

&lt;p&gt;但是只有api server知道哪个副本是主副本，因为副本之间没有通信&lt;/p&gt;

&lt;p&gt;api server上的状态变动会通知到所有副本，但它只会采用主副本提供回来的方案，主副本异常后，api server再从新选择一个主副本&lt;/p&gt;

&lt;p&gt;职能组件以此来实现了伪分布式的高可用&lt;/p&gt;

&lt;h3 id=&quot;kubelet&quot;&gt;kubelet&lt;/h3&gt;
&lt;p&gt;kubelet通常是以系统的service形式存在的，所以kubelet的高可用一般是有操作系统保证&lt;/p&gt;</content><author><name></name></author><summary type="html">鱼与熊掌 笼统了解了一下Kubernetes的架构设计，发现它的架构非常有意思，在一些方面实现了一定程度上得的“鱼与熊掌得兼”： 系统本身高复杂——对外接口简单清晰 高访问——没有性能瓶颈 高可用的特性——实现上的低成本</summary></entry><entry><title type="html">Zookeeper的一致性与选举!</title><link href="http://localhost:4000/zookeeper/2018/03/07/zookeeper-consistent-and-election.html" rel="alternate" type="text/html" title="Zookeeper的一致性与选举!" /><published>2018-03-07T09:36:54+08:00</published><updated>2018-03-07T09:36:54+08:00</updated><id>http://localhost:4000/zookeeper/2018/03/07/zookeeper-consistent-and-election</id><content type="html" xml:base="http://localhost:4000/zookeeper/2018/03/07/zookeeper-consistent-and-election.html">&lt;h1 id=&quot;一致性算法paxos&quot;&gt;一致性算法Paxos&lt;/h1&gt;
&lt;p&gt;提到一致性算法（协议），无法绕开Paxos——Paxos Wiki，这是过去十年分布式一致性协议上的主流算法&lt;/p&gt;

&lt;p&gt;首先将议员的角色分为proposers，acceptors，和learners（允许身兼数职）。proposers提出提案，提案信息包括提案编号和提议的value；acceptor收到提案后可以接受（accept）提案，若提案获得多数acceptors的接受，则称该提案被批准（chosen）；learners只能“学习”被批准的提案。划分角色后，就可以更精确的定义问题：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;决议（value）只有在被proposers提出后才能被批准（未经批准的决议称为“提案（proposal）”）&lt;/li&gt;
  &lt;li&gt;在一次Paxos算法的执行实例中，只批准（chosen）一个value&lt;/li&gt;
  &lt;li&gt;learners只能获得被批准（chosen）的value&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;在以上3个约束基础上，强化约束如下既可得到Paxos算法&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;P1：一个acceptor必须接受（accept）第一次收到的提案
    &lt;ul&gt;
      &lt;li&gt;P1a：当且仅当acceptor没有回应过编号大于n的prepare请求时，acceptor接受（accept）编号为n的提案&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;P2：一旦一个具有value v的提案被批准（chosen），那么之后批准（chosen）的提案必须具有value v
    &lt;ul&gt;
      &lt;li&gt;P2a：一旦一个具有value v的提案被批准（chosen），那么之后任何acceptor再次接受（accept）的提案必须具有value v&lt;/li&gt;
      &lt;li&gt;P2b：一旦一个具有value v的提案被批准（chosen），那么以后任何proposer提出的提案必须具有value v&lt;/li&gt;
      &lt;li&gt;P2c：如果一个编号为n的提案具有value v，那么存在一个多数派，要么他们中所有人都没有接受（accept）编号小于n的任何提案，要么他们已经接受（accept）的所有编号小于n的提案中编号最大的那个提案具有value v&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Paxos依靠vote上的多数派原则，进行演化收敛——副作用就是当一个主题的proposal有多个value时收敛速度下降快，比如全局leader election&lt;/p&gt;

&lt;h1 id=&quot;zab&quot;&gt;Zab&lt;/h1&gt;
&lt;p&gt;而Zookeeper基于Paxos进行了改造——Zab（Zookeeper Automatic BroadCast Protocol）&lt;/p&gt;

&lt;p&gt;Zab vs. Paxos&lt;/p&gt;

&lt;p&gt;简单来讲，Zab采用了Paxos所使用的vote机制——多数派原则和消息传递特征&lt;/p&gt;

&lt;p&gt;而从设计上，Paxos是针对state machine replication，既有限状态机，无法优秀的支持primary-backup replication&lt;/p&gt;

&lt;p&gt;俩种replication的区别在于state machine的state set和state change是确定的，需要一致的是各个replications对state change request的一致顺序处理，而primary-back是指state change from last state，而且state set往往是没有边界的，也就不存在清晰的state change set
前者的replica在某一个时间点可能状态不同，但是保证在定序执行完所有request后状态一致，要求一致性算法做到request的定序（即使request是分散凌乱的），而后者是状态一个接一个的primary updates，要求一致性算法做到在updates过程中的容错
Paxos如果想应用在primary-backup replication中，必须以primary为leader，然后可以通过一次只接受一个request来保证primary update动作的原子性，但是这样会非常损耗性能&lt;/p&gt;

&lt;p&gt;所以Zab对Paxos leader模式做的改进有：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;从历史中恢复——保证了request的uncommit与commit状态&lt;/li&gt;
  &lt;li&gt;增加prefix ordering properties以支持primary/backup的并发性能——所有request被杂乱地送往leader&lt;/li&gt;
  &lt;li&gt;在更换leader期间保证proposal是定序的——增加了数据同步和数据广播&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;而Zab leader选择的依据，则是ZXid最高，意味着处理过最多的request，leader election本质上是全局范围内最大ZXid持有者的收敛：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;leader election（认知范围内收敛完成后，资历最老的带头闹革命）&lt;/li&gt;
  &lt;li&gt;建立epoch（向全国确立新年号，以保证没有前朝皇室余孽，如果没有收到所有人的确立回复，返回leader election）&lt;/li&gt;
  &lt;li&gt;leader与follower同步（整顿内务，把前朝的帐算清楚，确定一下哪些follower可以上岗哪些不行，follower差不多就绪了，开始挂着新epoch搞生产）&lt;/li&gt;
  &lt;li&gt;数据广播（日常工作，发号施令，以[ZXid, data]向follower传达）&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;（貌似和kafka log replication的模式略相似）&lt;/p&gt;</content><author><name></name></author><summary type="html">一致性算法Paxos 提到一致性算法（协议），无法绕开Paxos——Paxos Wiki，这是过去十年分布式一致性协议上的主流算法</summary></entry><entry><title type="html">Welcome to Jekyll!</title><link href="http://localhost:4000/jekyll/update/2018/03/06/welcome-to-jekyll.html" rel="alternate" type="text/html" title="Welcome to Jekyll!" /><published>2018-03-06T09:36:54+08:00</published><updated>2018-03-06T09:36:54+08:00</updated><id>http://localhost:4000/jekyll/update/2018/03/06/welcome-to-jekyll</id><content type="html" xml:base="http://localhost:4000/jekyll/update/2018/03/06/welcome-to-jekyll.html">&lt;p&gt;You’ll find this post in your &lt;code class=&quot;highlighter-rouge&quot;&gt;_posts&lt;/code&gt; directory. Go ahead and edit it and re-build the site to see your changes. You can rebuild the site in many different ways, but the most common way is to run &lt;code class=&quot;highlighter-rouge&quot;&gt;jekyll serve&lt;/code&gt;, which launches a web server and auto-regenerates your site when a file is updated.&lt;/p&gt;

&lt;p&gt;To add new posts, simply add a file in the &lt;code class=&quot;highlighter-rouge&quot;&gt;_posts&lt;/code&gt; directory that follows the convention &lt;code class=&quot;highlighter-rouge&quot;&gt;YYYY-MM-DD-name-of-post.ext&lt;/code&gt; and includes the necessary front matter. Take a look at the source for this post to get an idea about how it works.&lt;/p&gt;

&lt;p&gt;Jekyll also offers powerful support for code snippets:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;print_hi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Hi, &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;print_hi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'Tom'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#=&amp;gt; prints 'Hi, Tom' to STDOUT.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Check out the &lt;a href=&quot;https://jekyllrb.com/docs/home&quot;&gt;Jekyll docs&lt;/a&gt; for more info on how to get the most out of Jekyll. File all bugs/feature requests at &lt;a href=&quot;https://github.com/jekyll/jekyll&quot;&gt;Jekyll’s GitHub repo&lt;/a&gt;. If you have questions, you can ask them on &lt;a href=&quot;https://talk.jekyllrb.com/&quot;&gt;Jekyll Talk&lt;/a&gt;.&lt;/p&gt;</content><author><name></name></author><summary type="html">You’ll find this post in your _posts directory. Go ahead and edit it and re-build the site to see your changes. You can rebuild the site in many different ways, but the most common way is to run jekyll serve, which launches a web server and auto-regenerates your site when a file is updated.</summary></entry></feed>